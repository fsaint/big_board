session_name: big_board
environment:
  FRONTEND_PORT: "5173"
  BACKEND_PORT: "8010"
windows:
  - window_name: dev
    layout: even-horizontal
    panes:
      - shell_command:
          - cd backend && source venv/bin/activate && python main.py
      - shell_command:
          - nvm use lts/iron
          - cd frontend && npm run dev -- --port ${FRONTEND_PORT} --host studio
      - shell_command:
          - /Applications/Tailscale.app/Contents/MacOS/Tailscale serve --https=443 off; /Applications/Tailscale.app/Contents/MacOS/Tailscale serve --https=443 localhost:${FRONTEND_PORT}
